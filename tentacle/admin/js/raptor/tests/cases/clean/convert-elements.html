<!doctype html>
<html>
<head>
    <base href="../../" />
    <link type="text/css" rel="stylesheet" href="css/style.css"/>
    <link type="text/css" rel="stylesheet" href="css/diff.css"/>
    <script src="../src/dependencies/jquery.js"></script>
    <script src="../src/tools/jquery.ui.editor.element.js"></script>
    <script src="../src/tools/jquery.ui.editor.clean.js"></script>
	<script type="text/javascript" src="js/helpers.js"></script>
	<script type="text/javascript" src="js/diff.js"></script>
	<script type="text/javascript" src="js/beautify-html.js"></script>
</head>
<body>
    <div class="test-1">
        <h1>Convert Elements 1</h1>
        <div class="test-input">
            <div>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                convallis dui id erat pellentesque et rhoncus nunc semper. Suspendisse
                malesuada hendrerit velit nec tristique. Aliquam gravida mauris at
                ligula venenatis rhoncus. Suspendisse interdum, nisi nec consectetur
                pulvinar, lorem augue ornare felis, vel lacinia erat nibh in velit.
            </div>
        </div>
        <div class="test-expected">
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                convallis dui id erat pellentesque et rhoncus nunc semper. Suspendisse
                malesuada hendrerit velit nec tristique. Aliquam gravida mauris at
                ligula venenatis rhoncus. Suspendisse interdum, nisi nec consectetur
                pulvinar, lorem augue ornare felis, vel lacinia erat nibh in velit.
            </p>
        </div>
        <div class="test-diff"></div>
        <div class="test-output"></div>
    </div>
    <script type="text/javascript">
        $('.test-1 .test-output').html($('.test-1 .test-input').html());
        cleanReplaceElements('.test-1 .test-output', {
            'div': '<p/>'
        });
        $('.test-1 .test-diff').html(diffstr($('.test-1 .test-expected').html(), $('.test-1 .test-output').html()));
        if ($('.test-1 .test-output').html() === $('.test-1 .test-expected').html()) {
            pass('.test-1');
        } else {
            fail('.test-1');
        }
    </script>

    <div class="test-2">
        <h1>Convert Elements 2</h1>
        <div class="test-input">
            <div>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                convallis dui id erat pellentesque et rhoncus nunc semper. Suspendisse
                malesuada hendrerit velit nec tristique. Aliquam gravida mauris at
                ligula venenatis rhoncus. Suspendisse interdum, nisi nec consectetur
                pulvinar, lorem augue ornare felis, vel lacinia erat nibh in velit.
            </div>
            <div>
                In hac habitasse platea dictumst. Donec pulvinar vestibulum viverra.
                Ut ut volutpat lectus. Mauris fermentum pretium urna, tristique pretium
                sapien fringilla quis. Donec enim urna, lobortis in sagittis sed,
                semper a mauris. Pellentesque tempus, ligula ut tempus malesuada, nisl
                arcu facilisis nisl, ut fringilla tellus ligula vitae libero.
            </div>
            <div>
                Aliquam id vulputate magna. Cum sociis natoque penatibus et magnis dis
                parturient montes, nascetur ridiculus mus. Vestibulum quis elit urna,
                sed accumsan nulla. Suspendisse porta odio quis sem ornare at vehicula
                urna dignissim.
            </div>
        </div>
        <div class="test-expected">
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                convallis dui id erat pellentesque et rhoncus nunc semper. Suspendisse
                malesuada hendrerit velit nec tristique. Aliquam gravida mauris at
                ligula venenatis rhoncus. Suspendisse interdum, nisi nec consectetur
                pulvinar, lorem augue ornare felis, vel lacinia erat nibh in velit.
            </p>
            <p>
                In hac habitasse platea dictumst. Donec pulvinar vestibulum viverra.
                Ut ut volutpat lectus. Mauris fermentum pretium urna, tristique pretium
                sapien fringilla quis. Donec enim urna, lobortis in sagittis sed,
                semper a mauris. Pellentesque tempus, ligula ut tempus malesuada, nisl
                arcu facilisis nisl, ut fringilla tellus ligula vitae libero.
            </p>
            <p>
                Aliquam id vulputate magna. Cum sociis natoque penatibus et magnis dis
                parturient montes, nascetur ridiculus mus. Vestibulum quis elit urna,
                sed accumsan nulla. Suspendisse porta odio quis sem ornare at vehicula
                urna dignissim.
            </p>
        </div>
        <div class="test-diff"></div>
        <div class="test-output"></div>
    </div>
    <script type="text/javascript">
        $('.test-2 .test-output').html($('.test-2 .test-input').html());
        cleanReplaceElements('.test-2 .test-output', {
            'div': '<p/>'
        });
        $('.test-2 .test-diff').html(diffstr($('.test-2 .test-expected').html(), $('.test-2 .test-output').html()));
        if ($('.test-2 .test-output').html() === $('.test-2 .test-expected').html()) {
            pass('.test-2');
        } else {
            fail('.test-2');
        }
    </script>

    <div class="test-3">
        <h1>Convert Elements 3</h1>
        <div class="test-input">
            <div>
                <div>
                    <div>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                        convallis dui id erat pellentesque et rhoncus nunc semper. Suspendisse
                        malesuada hendrerit velit nec tristique. Aliquam gravida mauris at
                        ligula venenatis rhoncus. Suspendisse interdum, nisi nec consectetur
                        pulvinar, lorem augue ornare felis, vel lacinia erat nibh in velit.
                    </div>
                </div>
            </div>
        </div>
        <div class="test-expected">
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                convallis dui id erat pellentesque et rhoncus nunc semper. Suspendisse
                malesuada hendrerit velit nec tristique. Aliquam gravida mauris at
                ligula venenatis rhoncus. Suspendisse interdum, nisi nec consectetur
                pulvinar, lorem augue ornare felis, vel lacinia erat nibh in velit.
            </p>
        </div>
        <div class="test-diff"></div>
        <div class="test-output"></div>
    </div>
    <script type="text/javascript">
        $('.test-3 .test-output').html($('.test-3 .test-input').html());
        cleanReplaceElements('.test-3 .test-output', {
            'div': '<p/>'
        });
        cleanUnwrapElements('.test-3 .test-output p p');
        if (isDiff('.test-3 .test-output', '.test-3 .test-expected')) {
            $('.test-3 .test-diff').html(prettyDiff('.test-3 .test-expected', '.test-3 .test-output'));
            fail('.test-3');
        } else {
            pass('.test-3');
        }
    </script>

    <div class="test-4">
        <h1>Convert Elements 4</h1>
        <div class="test-input">
            <div class="some-class" style="color: red" data-foo="bar">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                convallis dui id erat pellentesque et rhoncus nunc semper. Suspendisse
                malesuada hendrerit velit nec tristique. Aliquam gravida mauris at
                ligula venenatis rhoncus. Suspendisse interdum, nisi nec consectetur
                pulvinar, lorem augue ornare felis, vel lacinia erat nibh in velit.
            </div>
        </div>
        <div class="test-expected">
            <p class="some-class" style="color: red" data-foo="bar">
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                convallis dui id erat pellentesque et rhoncus nunc semper. Suspendisse
                malesuada hendrerit velit nec tristique. Aliquam gravida mauris at
                ligula venenatis rhoncus. Suspendisse interdum, nisi nec consectetur
                pulvinar, lorem augue ornare felis, vel lacinia erat nibh in velit.
            </p>
        </div>
        <div class="test-diff"></div>
        <div class="test-output"></div>
    </div>
    <script type="text/javascript">
        $('.test-4 .test-output').html($('.test-4 .test-input').html());
        cleanReplaceElements('.test-4 .test-output', {
            'div': '<p/>'
        });
        $('.test-4 .test-diff').html(diffstr($('.test-4 .test-expected').html(), $('.test-4 .test-output').html()));
        if ($('.test-4 .test-output').html() === $('.test-4 .test-expected').html()) {
            pass('.test-4');
        } else {
            fail('.test-4');
        }
    </script>

    <div class="test-5">
        <h1>Convert Elements 5</h1>
        <div class="test-input">
            <div>
                <div>
                    <div>
                        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                        convallis dui id erat pellentesque et rhoncus nunc semper. Suspendisse
                        malesuada hendrerit velit nec tristique. Aliquam gravida mauris at
                        ligula venenatis rhoncus. Suspendisse interdum, nisi nec consectetur
                        pulvinar, lorem augue ornare felis, vel lacinia erat nibh in velit.
                    </div>
                    <div>
                        In hac habitasse platea dictumst. Donec pulvinar vestibulum viverra.
                        Ut ut volutpat lectus. Mauris fermentum pretium urna, tristique pretium
                        sapien fringilla quis. Donec enim urna, lobortis in sagittis sed,
                        semper a mauris. Pellentesque tempus, ligula ut tempus malesuada, nisl
                        arcu facilisis nisl, ut fringilla tellus ligula vitae libero.
                    </div>
                </div>
                <div>
                    Aliquam id vulputate magna. Cum sociis natoque penatibus et magnis dis
                    parturient montes, nascetur ridiculus mus. Vestibulum quis elit urna,
                    sed accumsan nulla. Suspendisse porta odio quis sem ornare at vehicula
                    urna dignissim.
                </div>
            </div>
        </div>
        <div class="test-expected">
            <p>
                Lorem ipsum dolor sit amet, consectetur adipiscing elit. Maecenas
                convallis dui id erat pellentesque et rhoncus nunc semper. Suspendisse
                malesuada hendrerit velit nec tristique. Aliquam gravida mauris at
                ligula venenatis rhoncus. Suspendisse interdum, nisi nec consectetur
                pulvinar, lorem augue ornare felis, vel lacinia erat nibh in velit.
            </p>
            <p>
                In hac habitasse platea dictumst. Donec pulvinar vestibulum viverra.
                Ut ut volutpat lectus. Mauris fermentum pretium urna, tristique pretium
                sapien fringilla quis. Donec enim urna, lobortis in sagittis sed,
                semper a mauris. Pellentesque tempus, ligula ut tempus malesuada, nisl
                arcu facilisis nisl, ut fringilla tellus ligula vitae libero.
            </p>
            <p>
                Aliquam id vulputate magna. Cum sociis natoque penatibus et magnis dis
                parturient montes, nascetur ridiculus mus. Vestibulum quis elit urna,
                sed accumsan nulla. Suspendisse porta odio quis sem ornare at vehicula
                urna dignissim.
            </p>
        </div>
        <div class="test-diff"></div>
        <div class="test-output"></div>
    </div>
    <script type="text/javascript">
        $('.test-5 .test-output').html($('.test-5 .test-input').html());
        cleanReplaceElements('.test-5 .test-output', {
            'div': '<p/>'
        });
        cleanUnwrapElements('.test-5 .test-output p p');
        if (isDiff('.test-5 .test-output', '.test-5 .test-expected')) {
            $('.test-5 .test-diff').html(prettyDiff('.test-5 .test-expected', '.test-5 .test-output'));
            fail('.test-5');
        } else {
            pass('.test-5');
        }
    </script>
</body>
</html>