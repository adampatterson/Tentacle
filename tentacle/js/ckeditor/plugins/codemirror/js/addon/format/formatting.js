(function(){CodeMirror.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(d,b){return/^[;{}]$/.test(b)}});CodeMirror.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(d,b,e,a){return this.jsonMode?/^[\[,{]$/.test(b)||/^}/.test(e):";"==b&&a.lexical&&")"==a.lexical.type?!1:/^[;{}]$/.test(b)&&!/^;/.test(e)}});var m=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;
CodeMirror.extendMode("xml",{commentStart:"<\!--",commentEnd:"--\>",newlineAfterToken:function(d,b,e,a){var c=!1;"html"==this.configuration&&(c=a.context?m.test(a.context.tagName):!1);return!c&&("tag"==d&&/>$/.test(b)&&a.context||/^</.test(e))}});CodeMirror.defineExtension("commentRange",function(d,b,e){var a=this,c=CodeMirror.innerMode(a.getMode(),a.getTokenAt(b).state).mode;a.operation(function(){if(d)a.replaceRange(c.commentEnd,e),a.replaceRange(c.commentStart,b),b.line==e.line&&b.ch==e.ch&&a.setCursor(b.line,
b.ch+c.commentStart.length);else{var f=a.getRange(b,e),g=f.indexOf(c.commentStart),j=f.lastIndexOf(c.commentEnd);-1<g&&(-1<j&&j>g)&&(f=f.substr(0,g)+f.substring(g+c.commentStart.length,j)+f.substr(j+c.commentEnd.length));a.replaceRange(f,b,e)}})});CodeMirror.defineExtension("autoIndentRange",function(d,b){var e=this;this.operation(function(){for(var a=d.line;a<=b.line;a++)e.indentLine(a,"smart")})});CodeMirror.defineExtension("autoFormatRange",function(d,b,e){for(var a=this,c=a.getMode(),f=a.getRange(d,
b).split("\n"),g=CodeMirror.copyState(c,a.getTokenAt(d).state),j=a.getOption("tabSize"),i="",n=0,k=0==d.ch,l=0;l<f.length;++l){for(var h=new CodeMirror.StringStream(f[l],j);!h.eol();){var o=CodeMirror.innerMode(c,g),m=c.token(h,g),p=h.current();h.start=h.pos;if(!k||/\S/.test(p))i+=p,k=!1;if(!k&&o.mode.newlineAfterToken&&o.mode.newlineAfterToken(m,p,h.string.slice(h.pos)||f[l+1]||"",o.state))i+="\n",k=!0,++n}!h.pos&&c.blankLine&&c.blankLine(g);!k&&l<f.length-1&&(i+="\n",k=!0,++n)}a.operation(function(){a.replaceRange(i,
d,b);for(var c=d.line+1,f=d.line+n;c<=f;++c)a.indentLine(c,"smart");e?a.setCursor({line:0,ch:0}):a.setSelection(d,a.getCursor(!1))})})})();